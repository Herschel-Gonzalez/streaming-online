{
  "version": 3,
  "sources": ["../../vue-firebase/index.js"],
  "sourcesContent": ["\nlet Plugin = {};\n\nPlugin.install = function (Vue, options) {\n\n     Vue.prototype.$firebase = test(options);\n\n    Vue.mixin({\n        // Anything added to a mixin will be injected into all components.\n        // In this case, the mounted() method runs when the component is added to the DOM.\n        beforeCreate() {\n            this.$router.beforeEach((to, from, next) => {\n                if (to.matched.some(record => record.meta.requiresAuth)) {\n\n                    // этот путь требует авторизации, проверяем залогинен ли\n                    // пользователь, и если нет, перенаправляем на страницу логина\n\n                    this.$firebase.auth().onAuthStateChanged(function(user) {\n                        if (user) {\n                            next()\n                        } else {\n                            next({\n                                path: to.meta.redirect\n                            })\n                        }\n                    });\n\n                } else {\n                    next() // всегда так или иначе нужно вызвать next()!\n                }\n            })\n\n        }\n    });\n\n};\n\nfunction test(opt) {\n    let fb = opt.firebase;\n    let initFb = fb.initializeApp(opt.config);\n    return initFb;\n}\n\nexport default Plugin;"],
  "mappings": ";AACA,IAAI,SAAS,CAAC;AAEd,OAAO,UAAU,SAAU,KAAK,SAAS;AAEpC,MAAI,UAAU,YAAY,KAAK,OAAO;AAEvC,MAAI,MAAM;AAAA,IAGN,eAAe;AACX,WAAK,QAAQ,WAAW,CAAC,IAAI,MAAM,SAAS;AACxC,YAAI,GAAG,QAAQ,KAAK,YAAU,OAAO,KAAK,YAAY,GAAG;AAKrD,eAAK,UAAU,KAAK,EAAE,mBAAmB,SAAS,MAAM;AACpD,gBAAI,MAAM;AACN,mBAAK;AAAA,YACT,OAAO;AACH,mBAAK;AAAA,gBACD,MAAM,GAAG,KAAK;AAAA,cAClB,CAAC;AAAA,YACL;AAAA,UACJ,CAAC;AAAA,QAEL,OAAO;AACH,eAAK;AAAA,QACT;AAAA,MACJ,CAAC;AAAA,IAEL;AAAA,EACJ,CAAC;AAEL;AAEA,SAAS,KAAK,KAAK;AACf,MAAI,KAAK,IAAI;AACb,MAAI,SAAS,GAAG,cAAc,IAAI,MAAM;AACxC,SAAO;AACX;AAEA,IAAO,uBAAQ;",
  "names": []
}
